!function(e){e.Ch=e.Ch||{},e.Ch.Config=Ch.Config||{},e.Ch.Config.modelPath="./dist/module/",e.Ch.Config.debugPath="/model";var t={basePath:"http://test-yixin.com/yxjfapp/",reg:{loginName:/^[0-9a-zA-Z_\-\/]{6,16}$/,pwd:/^(?![^a-zA-Z]+$)(?!\D+$).{6,20}$/,cvn:/^[0-9]{3}$/}};e.YX=window.YX||{},e.YX.Config=window.YX.Config||t}(window),function(e,t){var n={navGo:function(e,n){Ch.go(e,n);var i="";switch(t(".report_top").hide(),e){case"Login":i="登录征信中心";break;case"Register":i="征信中心注册";break;case"Message":i="短信验证";break;case"Identity":i="身份验证";case"Apply":i="征信报告申请";break;case"Card":case"ApplyCode":i="银行卡验证";break;case"Wait":i="等待身份验证码";break;case"Help":i="帮助中心";break;case"Report":i="征信报告",t(".report_top").show();case"Agreement":i="服务协议"}t("#title").text(i)},inputTip:function(e,n){var i=t("<i>"+n+"</i>");t(e).off("blur.tip").after(i).focus().on("blur.tip",function(){i.remove()})},isMobile:function(e){return/^(1[3-9])\d{9}$/.test(e)},isCnNewID:function(e){var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=[1,0,"X",9,8,7,6,5,4,3,2];if(/^\d{17}\d|x$/i.test(e)){for(var i,a=0,o=0;o<e.length-1;o++)a+=parseInt(e.substr(o,1),10)*t[o];return i=a%11,n[i]==e.substr(17,1).toUpperCase()}return!1},verifycard:function(e){var n=e.split("").reverse(),i=[],a=[],o=0,s=0;return t.each(n,function(e){(e+1)%2==0?a.push(2*n[e]):i.push(1*n[e])}),t.each(i.join("").split(""),function(){o+=1*this}),t.each(a.join("").split(""),function(){s+=1*this}),(o+s)%10==0?1:0},querySearchToObj:function(){var t={},n=decodeURIComponent(e.location.search);n=n.substring(1,n.length);for(var i,a=n.split("&"),o=a.length;o--;)i=a[o].split("="),t[i[0]]=i[1];return t}};e.YX=e.YX||{},e.YX.Util=e.YX.Util||n}(window,jQuery),Ch.Config=Ch.Config||{},Ch.Config.mainElements=Ch.Config.mainElements||["#ch-view"],Ch.MODEL_PATH=Ch.Config.modelPath,Ch.DATA_PAHT=Ch.Config.dataPath,Ch.model_version="1.0.0",Ch.mainContainer=Ch.Config.mainElements[0],function(e){e.fn.extend({go:function(e,t){var n=new Ch.ModelMgr(e,this,t);return n.initialize(),n}})}(jQuery),Ch.go=function(e){var t=window.YX.Util.querySearchToObj();$.post("http://test-yixin.com/bas/reportPCMerchant/check",t,function(t){"0"!==t.data.result?$(Ch.mainContainer).go("Error"):$(Ch.mainContainer).go(e)})},Ch.Model=function(){Ch.BaseClass.call(this)},Ch.Model.inherits(Ch.BaseClass,"Model"),Ch.extend(Ch.Model.prototype,{}),Ch.platform=function(){Ch.BaseClass.call(this)},Ch.platform.inherits(Ch.BaseClass,"platform"),Ch.extend(Ch.platform.prototype,{}),window.platform=new Ch.platform,Ch.ModelMgr=function(e,t,n){Ch.BaseClass.call(this),this.path=e,this.container=$(t),this.opts=n,this.model=null,this.json=null,this.dataUrl=null,this.html=null,this.queryString=null,this.className=null,this.isLeader=!1,this.mainElements=Ch.Config.mainElements},Ch.ModelMgr.inherits(Ch.BaseClass,"ModelMgr"),Ch.extend(Ch.ModelMgr.prototype,{initialize:function(){var e=this.path.split("?");this.queryString=e[1],this.className=e[0];for(var t=this.container.attr("id"),n=Ch.Config.mainElements,i=0;i<n.length;i++)n[i]=="#"+t&&(this.isLeader=!0);this._loadModel()},_loadModel:function(){var e=this.className;return window.Ch[e]?(this._instance(),void 0):(this._localStorageModel()||this._debugLoadModel()||this._onlineLoadModel(),void 0)},_localStorageModel:function(){return!1},_debugLoadModel:function(){var e=this,t=this.className;if(location.href.indexOf("dev")>-1){var n=Ch.Config.debugPath+"?m="+t;$.getJSON(n,function(t){window[e.className+"_app"]={},e.html=window[e.className+"_app"].html=t.html,e.js=window[e.className+"_app"].js=t.js,e.exec(e.js),e._instance()})}else{var i=Ch.MODEL_PATH+t+".js?_="+Math.random();$.getScript(i,function(){window[e.className+"_app"]={};var t=window["_Ch_"+e.className];e.html=window[e.className+"_app"].html=t.html,e.js=window[e.className+"_app"].js=t.js,e.exec(e.js),e._instance()})}return!0},_onlineLoadModel:function(){},_instance:function(){this.model=new window.Ch[this.className],this.model.info={},this.model.info.container=this.container,this.model.opts=this.opts,this.model.mgrHashCode=this.hashCode,this._loadData()},_loadData:function(){var e=this;if(!this.model.loadData)return this._render(),void 0;var t=this.model.loadData();return t?($.getJSON(t,function(t){e.json=t,e._render()}),void 0):(this._render(),void 0)},_render:function(){var e=this.model,t=e.render(window[this.className+"_app"].html,this.json).replace(/#hashCode#/gi,e.hashCode);if(this.isLeader){var n="#"+this.container.attr("id"),i={mainContainer:n,className:this.className};platform.dispatchEvent(new Ch.BaseEvent("onpagechange"),i),Ch.mainContainer!=n&&(Ch.mainContainer=n),Ch.History.add(this.path)}var a=$(this.container).attr("hashCode");if(a){var o=Ch.I(a);o.unLoad&&o.unLoad();var s=Ch.I(o.mgrHashCode);o.dispose(),s.dispose&&s.dispose()}$(this.container).attr("hashCode",e.hashCode),this.container.html(t),e.onLoad&&e.onLoad()},exec:function(e){if(window.execScript?window.execScript(e):window.eval(e),!window.Ch[this.className]){var t=document.createElement("SCRIPT");t.type="text/javascript",document.body.appendChild(t),t.appendChild(document.createTextNode(e))}}}),Ch.History={hash:"",init:function(){var e=this;$(window).bind("hashchange",function(){e.loadPanel(e.getHash())}),this.hash=this.getHash()},loadPanel:function(e){this.hash!=e&&(this.hash=e,""!=e&&Ch.go(e))},add:function(e){this.hash=e,self.location.hash=e},getHash:function(e){return e=e||self.location.hash,e.replace("#","")}},$(document).ready(function(){Ch.History.init()}),function(e){var t=e.YX.Util.querySearchToObj();t.merchantId=t.merchantId||"001244",t.merchantId&&sessionStorage.setItem("merchantId",t.merchantId),t.userId=t.userId||parseInt(1e5*Math.random()+1e4),t.userId&&sessionStorage.setItem("userId",t.userId),e.YX.Config.merchantId=sessionStorage.getItem("merchantId"),e.YX.Config.userId=sessionStorage.getItem("userId"),e.YX.Config.crawlId=sessionStorage.getItem("crawlId");var n=window.location.hash;n=n?n.replace("#",""):"Login",YX.Util.navGo(n)}(window);